{"remainingRequest":"/Users/satus/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/satus/vue/src/views/Tienda.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/satus/vue/src/views/Tienda.vue","mtime":1736606082669},{"path":"/Users/satus/vue/node_modules/cache-loader/dist/cjs.js","mtime":1736076365498},{"path":"/Users/satus/vue/node_modules/babel-loader/lib/index.js","mtime":1736076366266},{"path":"/Users/satus/vue/node_modules/cache-loader/dist/cjs.js","mtime":1736076365498},{"path":"/Users/satus/vue/node_modules/vue-loader/lib/index.js","mtime":1736076366535}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vIFZhcmlhYmxlIGdsb2JhbCBwYXJhIGVsIGRlYm91bmNlIGRlbCBidXNjYWRvcgpsZXQgdGltZW91dElEID0gbnVsbDsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGllbmRhIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gQsO6c3F1ZWRhIHkgZmlsdHJvcwogICAgICBidXNxdWVkYTogIiIsCiAgICAgIGNhdGVnb3JpYVNlbGVjY2lvbmFkYTogInRvZG9zIiwKICAgICAgb3JkZW5QcmVjaW86ICJhc2MiLAoKICAgICAgLy8gU2ltdWxhY2nDs24gZGUgY2FyZ2EKICAgICAgY2FyZ2FuZG86IGZhbHNlLAoKICAgICAgLy8gUGFnaW5hY2nDs24KICAgICAgcGFnaW5hQWN0dWFsOiAxLAogICAgICBpdGVtc1BvclBhZ2luYTogOCwKCiAgICAgIC8vIE1vZGFsIGRlIGRldGFsbGVzCiAgICAgIG1vc3RyYXJNb2RhbDogZmFsc2UsCiAgICAgIHBhblNlbGVjY2lvbmFkbzogbnVsbCwKCiAgICAgIC8vIERhdG9zIGxvY2FsZXMKICAgICAgcGFuZXM6IFsKICAgICAgICB7IGlkOiAxLCAgbm9tYnJlOiAiUGFuIGZyYW5jw6lzIiwgICAgICAgIHByZWNpbzogMS41LCBpbWc6ICJwYW4tZnJhbmNlcy5qcGciLCAgIGNhdGVnb3JpYTogInNhbGFkbyIsICByYXRpbmc6IDQgfSwKICAgICAgICB7IGlkOiAyLCAgbm9tYnJlOiAiQmFndWV0dGUiLCAgICAgICAgICAgcHJlY2lvOiAxLjIsIGltZzogImJhZ3VldHRlLmpwZyIsICAgICAgY2F0ZWdvcmlhOiAic2FsYWRvIiwgIHJhdGluZzogNSB9LAogICAgICAgIHsgaWQ6IDMsICBub21icmU6ICJQYW4gaW50ZWdyYWwiLCAgICAgICBwcmVjaW86IDEuOCwgaW1nOiAiaW50ZWdyYWwuanBnIiwgICAgICBjYXRlZ29yaWE6ICJzYWxhZG8iLCAgcmF0aW5nOiAzIH0sCiAgICAgICAgeyBpZDogNCwgIG5vbWJyZTogIlBhbiBkZSBjZW50ZW5vIiwgICAgIHByZWNpbzogMi4wLCBpbWc6ICJjZW50ZW5vLmpwZyIsICAgICAgIGNhdGVnb3JpYTogInNhbGFkbyIsICByYXRpbmc6IDQgfSwKICAgICAgICB7IGlkOiA1LCAgbm9tYnJlOiAiUGFuIGRlIGNob2NvbGF0ZSIsICAgcHJlY2lvOiAyLjUsIGltZzogInBhbi1jaG9jb2xhdGUuanBnIiwgY2F0ZWdvcmlhOiAiZHVsY2UiLCAgIHJhdGluZzogNCB9LAogICAgICAgIHsgaWQ6IDYsICBub21icmU6ICJQYW4gZHVsY2UgbmF2aWRlw7FvIiwgcHJlY2lvOiAzLjIsIGltZzogInBhbi1kdWxjZS5qcGciLCAgICAgY2F0ZWdvcmlhOiAiZHVsY2UiLCAgIHJhdGluZzogNSB9LAogICAgICAgIHsgaWQ6IDcsICBub21icmU6ICJQYW4gZGUgc2VtaWxsYXMgZXNwZWNpYWwiLCBwcmVjaW86IDIuMiwgaW1nOiAicGFuLXNlbWlsbGFzLmpwZyIsIGNhdGVnb3JpYTogImVzcGVjaWFsIiwgcmF0aW5nOiA0IH0sCiAgICAgICAgeyBpZDogOCwgIG5vbWJyZTogIlBhbiBicmlvY2hlIiwgICAgICAgIHByZWNpbzogMi4wLCBpbWc6ICJwYW4tYnJpb2NoZS5qcGciLCAgIGNhdGVnb3JpYTogImR1bGNlIiwgICByYXRpbmc6IDQgfSwKICAgICAgICB7IGlkOiA5LCAgbm9tYnJlOiAiUGFuIGZvY2FjY2lhIiwgICAgICAgcHJlY2lvOiAyLjQsIGltZzogInBhbi1mb2NhY2NpYS5qcGciLCAgY2F0ZWdvcmlhOiAic2FsYWRvIiwgIHJhdGluZzogMyB9LAogICAgICAgIHsgaWQ6IDEwLCBub21icmU6ICJQYW4gZGUgYWpvIiwgICAgICAgICBwcmVjaW86IDIuMCwgaW1nOiAicGFuLWFqby5qcGciLCAgICAgICBjYXRlZ29yaWE6ICJzYWxhZG8iLCAgcmF0aW5nOiA0IH0sCiAgICAgIF0sCiAgICAgIHBhbmVzRmlsdHJhZG9zOiBbXSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8gQ8OhbGN1bG8gZGUgcMOhZ2luYXMgdG90YWxlcwogICAgcGFnaW5hc1RvdGFsZXMoKSB7CiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5wYW5lc0ZpbHRyYWRvcy5sZW5ndGggLyB0aGlzLml0ZW1zUG9yUGFnaW5hKTsKICAgIH0sCiAgICAvLyBTZWdtZW50YWNpw7NuIGRlIHJlc3VsdGFkb3Mgc2Vnw7puIGxhIHDDoWdpbmEgYWN0dWFsCiAgICBwYW5lc0ZpbHRyYWRvc1BhZ2luYWRvcygpIHsKICAgICAgY29uc3Qgc3RhcnQgPSAodGhpcy5wYWdpbmFBY3R1YWwgLSAxKSAqIHRoaXMuaXRlbXNQb3JQYWdpbmE7CiAgICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgdGhpcy5pdGVtc1BvclBhZ2luYTsKICAgICAgcmV0dXJuIHRoaXMucGFuZXNGaWx0cmFkb3Muc2xpY2Uoc3RhcnQsIGVuZCk7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIFNpbXVsYW1vcyBjYXJnYSBkZSAxIHNlZ3VuZG8KICAgIHRoaXMuY2FyZ2FuZG8gPSB0cnVlOwogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMucGFuZXNGaWx0cmFkb3MgPSB0aGlzLnBhbmVzOwogICAgICB0aGlzLmNhcmdhbmRvID0gZmFsc2U7CiAgICB9LCAxMDAwKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIERlYm91bmNlIHBhcmEgbGEgYsO6c3F1ZWRhCiAgICBmaWx0cmFyQ29uUmV0cmFzbygpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJRCk7CiAgICAgIHRpbWVvdXRJRCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuZmlsdHJhclBhbmVzKCk7CiAgICAgIH0sIDMwMCk7CiAgICB9LAoKICAgIC8vIEZpbHRyYWRvIHByaW5jaXBhbAogICAgZmlsdHJhclBhbmVzKCkgewogICAgICAvLyBDb3BpYW1vcyBlbCBhcnJheSBvcmlnaW5hbAogICAgICBsZXQgdGVtcCA9IFsuLi50aGlzLnBhbmVzXTsKCiAgICAgIC8vIDEpIEZpbHRybyBwb3IgY2F0ZWdvcsOtYQogICAgICBpZiAodGhpcy5jYXRlZ29yaWFTZWxlY2Npb25hZGEgIT09ICJ0b2RvcyIpIHsKICAgICAgICB0ZW1wID0gdGVtcC5maWx0ZXIoKHBhbikgPT4gcGFuLmNhdGVnb3JpYSA9PT0gdGhpcy5jYXRlZ29yaWFTZWxlY2Npb25hZGEpOwogICAgICB9CgogICAgICAvLyAyKSBCw7pzcXVlZGEgcG9yIG5vbWJyZQogICAgICBjb25zdCBidXNxdWVkYUxvd2VyID0gdGhpcy5idXNxdWVkYS50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgICAgaWYgKGJ1c3F1ZWRhTG93ZXIpIHsKICAgICAgICB0ZW1wID0gdGVtcC5maWx0ZXIoKHBhbikgPT4KICAgICAgICAgIHBhbi5ub21icmUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhidXNxdWVkYUxvd2VyKQogICAgICAgICk7CiAgICAgIH0KCiAgICAgIC8vIDMpIE9yZGVuIHBvciBwcmVjaW8gKGVzdGFibGUpCiAgICAgIHRlbXAuc29ydCgoYSwgYikgPT4gewogICAgICAgIGlmICh0aGlzLm9yZGVuUHJlY2lvID09PSAiYXNjIikgewogICAgICAgICAgcmV0dXJuIGEucHJlY2lvIC0gYi5wcmVjaW8gfHwgYS5ub21icmUubG9jYWxlQ29tcGFyZShiLm5vbWJyZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBiLnByZWNpbyAtIGEucHJlY2lvIHx8IGIubm9tYnJlLmxvY2FsZUNvbXBhcmUoYS5ub21icmUpOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICB0aGlzLnBhbmVzRmlsdHJhZG9zID0gdGVtcDsKICAgICAgLy8gUmVncmVzYW1vcyBhIGxhIHDDoWdpbmEgMQogICAgICB0aGlzLnBhZ2luYUFjdHVhbCA9IDE7CiAgICB9LAoKICAgIC8vIENhbWJpYXIgZGUgcMOhZ2luYQogICAgY2FtYmlhclBhZ2luYShudW0pIHsKICAgICAgaWYgKG51bSA+IDAgJiYgbnVtIDw9IHRoaXMucGFnaW5hc1RvdGFsZXMpIHsKICAgICAgICB0aGlzLnBhZ2luYUFjdHVhbCA9IG51bTsKICAgICAgfQogICAgfSwKCiAgICAvLyBGb3JtYXRlbyBkZSBwcmVjaW8KICAgIGZvcm1hdGVhclByZWNpbyhwcmVjaW8pIHsKICAgICAgcmV0dXJuIGAke3ByZWNpby50b0ZpeGVkKDIpfSDigqxgOwogICAgfSwKCiAgICAvLyBDYXJnYXIgaW3DoWdlbmVzIGxvY2FsZXMKICAgIG9idGVuZXJJbWFnZW4oYXJjaGl2bykgewogICAgICByZXR1cm4gcmVxdWlyZShgQC9hc3NldHMvJHthcmNoaXZvfWApOwogICAgfSwKCiAgICAvLyBDbGFzZSBkZSBiYWRnZSBzZWfDum4gY2F0ZWdvcsOtYQogICAgYmFkZ2VDbGFzcyhjYXRlZ29yaWEpIHsKICAgICAgc3dpdGNoIChjYXRlZ29yaWEpIHsKICAgICAgICBjYXNlICJzYWxhZG8iOgogICAgICAgICAgcmV0dXJuICJiYWRnZS1zYWxhZG8iOwogICAgICAgIGNhc2UgImR1bGNlIjoKICAgICAgICAgIHJldHVybiAiYmFkZ2UtZHVsY2UiOwogICAgICAgIGNhc2UgImVzcGVjaWFsIjoKICAgICAgICAgIHJldHVybiAiYmFkZ2UtZXNwZWNpYWwiOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gImJhZGdlLW90cm9zIjsKICAgICAgfQogICAgfSwKCiAgICAvLyBSZXNhbHRhciB0ZXh0byBzaSBxdWllcmVzIChvcGNpb25hbCkKICAgIHJlc2FsdGFyVGV4dG8obm9tYnJlKSB7CiAgICAgIC8vIFNpIG5vIGhheSBiw7pzcXVlZGEsIGRldm9sdmVtb3Mgbm9ybWFsCiAgICAgIGlmICghdGhpcy5idXNxdWVkYS50cmltKCkpIHJldHVybiBub21icmU7CgogICAgICAvLyBCw7pzcXVlZGEgZW4gbWluw7pzY3VsYXMKICAgICAgY29uc3Qgbm9ybWFsTmFtZSA9IG5vbWJyZS50b0xvd2VyQ2FzZSgpOwogICAgICBjb25zdCBzZWFyY2ggPSB0aGlzLmJ1c3F1ZWRhLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwoKICAgICAgY29uc3QgaW5kZXggPSBub3JtYWxOYW1lLmluZGV4T2Yoc2VhcmNoKTsKICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIG5vbWJyZTsKCiAgICAgIC8vIFJlZW1wbGF6YSBsYSBwYXJ0ZSBjb2luY2lkZW50ZSBwb3IgPG1hcms+CiAgICAgIGNvbnN0IG9yaWdpbmFsID0gbm9tYnJlLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyBzZWFyY2gubGVuZ3RoKTsKICAgICAgY29uc3QgbWFyY2FkbyA9IGA8bWFyaz4ke29yaWdpbmFsfTwvbWFyaz5gOwogICAgICByZXR1cm4gKAogICAgICAgIG5vbWJyZS5zdWJzdHJpbmcoMCwgaW5kZXgpICsKICAgICAgICBtYXJjYWRvICsKICAgICAgICB0aGlzLnJlc2FsdGFyVGV4dG8obm9tYnJlLnN1YnN0cmluZyhpbmRleCArIHNlYXJjaC5sZW5ndGgpKQogICAgICApOwogICAgfSwKCiAgICAvLyBNb2RhbAogICAgdmVyRGV0YWxsZXMocGFuKSB7CiAgICAgIHRoaXMucGFuU2VsZWNjaW9uYWRvID0gcGFuOwogICAgICB0aGlzLm1vc3RyYXJNb2RhbCA9IHRydWU7CiAgICB9LAogICAgY2VycmFyTW9kYWwoKSB7CiAgICAgIHRoaXMubW9zdHJhck1vZGFsID0gZmFsc2U7CiAgICB9LAogICAgYWdyZWdhckNhcnJpdG8ocGFuKSB7CiAgICAgIGFsZXJ0KGDCoSR7cGFuLm5vbWJyZX0gYWdyZWdhZG8gYWwgY2Fycml0byFgKTsKICAgICAgdGhpcy5jZXJyYXJNb2RhbCgpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Tienda.vue"],"names":[],"mappings":";AA8OA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Tienda.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"tienda container my-5\">\n    <!-- Título principal -->\n    <div class=\"text-center mb-5\">\n      <h2 class=\"tienda-title animate__animated animate__fadeInDown\">\n        Nuestra Tienda de Panes\n      </h2>\n      <p class=\"tienda-subtitle animate__animated animate__fadeInUp\">\n        Encuentra todos tus panes favoritos, recién horneados y con la mejor calidad.\n      </p>\n    </div>\n\n    <!-- Mensaje destacado -->\n    <div\n      class=\"alert alert-info text-center mb-4 animate__animated animate__fadeIn\"\n      role=\"alert\"\n    >\n      <i class=\"fas fa-exclamation-circle\"></i>\n      ¡Disfruta de nuestras promociones especiales toda la semana!\n    </div>\n\n    <!-- Sección de filtros -->\n    <div class=\"row mb-4 filtros\" data-aos=\"fade-up\">\n      <div class=\"col-md-6 mb-2\">\n        <!-- Barra de búsqueda con debounce y resaltado -->\n        <div class=\"input-group\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"Buscar pan...\"\n            v-model=\"busqueda\"\n            @input=\"filtrarConRetraso\"\n          />\n          <div class=\"input-group-append\">\n            <span class=\"input-group-text bg-light\">\n              <i class=\"fas fa-search\"></i>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-3 mb-2\">\n        <!-- Filtro por categoría -->\n        <select class=\"form-control\" v-model=\"categoriaSeleccionada\" @change=\"filtrarPanes\">\n          <option value=\"todos\">Todas las categorías</option>\n          <option value=\"salado\">Salados</option>\n          <option value=\"dulce\">Dulces</option>\n          <option value=\"especial\">Especiales</option>\n        </select>\n      </div>\n\n      <div class=\"col-md-3 mb-2\">\n        <!-- Orden por precio -->\n        <select class=\"form-control\" v-model=\"ordenPrecio\" @change=\"filtrarPanes\">\n          <option value=\"asc\">Precio Ascendente</option>\n          <option value=\"desc\">Precio Descendente</option>\n        </select>\n      </div>\n    </div>\n\n    <!-- Contador de resultados -->\n    <div\n      class=\"mb-3 text-muted small text-right pr-1 animate__animated animate__fadeIn\"\n      data-aos=\"fade-up\"\n    >\n      <span>Mostrando {{ panesFiltrados.length }} resultado(s)</span>\n    </div>\n\n    <!-- Spinner (Simulación de carga local, sin AJAX) -->\n    <div v-if=\"cargando\" class=\"text-center my-5\">\n      <div class=\"spinner-border text-primary\" role=\"status\">\n        <span class=\"sr-only\">Cargando...</span>\n      </div>\n      <p class=\"mt-2\">Cargando panes...</p>\n    </div>\n\n    <!-- Grid de panes -->\n    <div v-else class=\"row\">\n      <div\n        class=\"col-sm-6 col-md-4 col-lg-3 mb-4\"\n        v-for=\"pan in panesFiltradosPaginados\"\n        :key=\"pan.id\"\n        data-aos=\"fade-up\"\n        :data-aos-delay=\"100 * (pan.id % 5)\"\n      >\n        <!-- CardPan con mejoras -->\n        <div class=\"card card-pan shadow-sm h-100 position-relative\">\n          <!-- Etiqueta (Badge) de Categoría -->\n          <span class=\"badge-categoria\" :class=\"badgeClass(pan.categoria)\">\n            {{ pan.categoria }}\n          </span>\n\n          <!-- Etiqueta Descuento para pan dulce navideño -->\n          <span\n            v-if=\"pan.nombre.toLowerCase().includes('navideño')\"\n            class=\"badge-descuento\"\n          >\n            -10% OFF\n          </span>\n\n          <img\n            class=\"card-img-top\"\n            :src=\"obtenerImagen(pan.img)\"\n            :alt=\"`Imagen de ${pan.nombre}`\"\n          />\n          <div class=\"card-body d-flex flex-column\">\n            <!-- Resalta texto en el nombre si coincide con la búsqueda -->\n            <h5\n              class=\"card-title\"\n              v-html=\"resaltarTexto(pan.nombre)\"\n            ></h5>\n\n            <p class=\"card-text text-muted mb-2\">\n              <strong>{{ formatearPrecio(pan.precio) }}</strong>\n            </p>\n            <p class=\"text-capitalize text-info mb-2\">\n              <small>Categoría: {{ pan.categoria }}</small>\n            </p>\n\n            <!-- Botones de interacción -->\n            <div class=\"mt-auto d-flex justify-content-between\">\n              <button\n                class=\"btn btn-outline-primary\"\n                data-toggle=\"tooltip\"\n                title=\"Agrega este pan a tu carrito\"\n                @click=\"agregarCarrito(pan)\"\n              >\n                <i class=\"fas fa-shopping-cart\"></i>\n              </button>\n              <button\n                class=\"btn btn-outline-secondary\"\n                @click=\"verDetalles(pan)\"\n              >\n                Ver Detalles\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Mensaje cuando no se encuentran resultados -->\n    <div\n      v-if=\"!cargando && panesFiltrados.length === 0\"\n      class=\"alert alert-warning mt-4 text-center animate__animated animate__fadeInUp\"\n    >\n      No se encontraron panes con los filtros aplicados.\n    </div>\n\n    <!-- Paginación (local, sin AJAX) -->\n    <nav v-if=\"paginasTotales > 1 && !cargando\" class=\"mt-4\">\n      <ul class=\"pagination justify-content-center\">\n        <li\n          class=\"page-item\"\n          :class=\"{ disabled: paginaActual <= 1 }\"\n          @click=\"cambiarPagina(paginaActual - 1)\"\n        >\n          <a class=\"page-link\" href=\"javascript:void(0)\">Anterior</a>\n        </li>\n        <li\n          v-for=\"num in paginasTotales\"\n          :key=\"num\"\n          class=\"page-item\"\n          :class=\"{ active: paginaActual === num }\"\n          @click=\"cambiarPagina(num)\"\n        >\n          <a class=\"page-link\" href=\"javascript:void(0)\">{{ num }}</a>\n        </li>\n        <li\n          class=\"page-item\"\n          :class=\"{ disabled: paginaActual >= paginasTotales }\"\n          @click=\"cambiarPagina(paginaActual + 1)\"\n        >\n          <a class=\"page-link\" href=\"javascript:void(0)\">Siguiente</a>\n        </li>\n      </ul>\n    </nav>\n\n    <!-- Modal de Detalles -->\n    <div class=\"modal-overlay\" v-if=\"mostrarModal\" @click=\"cerrarModal\">\n      <div class=\"modal-custom\" @click.stop>\n        <div class=\"modal-header-custom\">\n          <h5 class=\"modal-title-custom\">{{ panSeleccionado.nombre }}</h5>\n          <button class=\"close-custom\" @click=\"cerrarModal\">\n            &times;\n          </button>\n        </div>\n        <div class=\"modal-body-custom\">\n          <p>\n            <strong>Precio:</strong> {{ formatearPrecio(panSeleccionado.precio) }}\n          </p>\n          <p class=\"mb-2\">\n            <strong>Categoría:</strong> {{ panSeleccionado.categoria }}\n          </p>\n          <!-- Rating de ejemplo -->\n          <div class=\"mb-3\">\n            <strong>Valoración: </strong>\n            <i\n              class=\"fas fa-star\"\n              v-for=\"n in panSeleccionado.rating\"\n              :key=\"n\"\n              style=\"color: #ffc107;\"\n            ></i>\n            <span class=\"text-muted ml-2\">\n              ({{ panSeleccionado.rating }}/5)\n            </span>\n          </div>\n          <p>\n            Este pan es uno de nuestros más populares por su\n            {{ panSeleccionado.categoria === \"dulce\"\n              ? \"delicioso sabor dulce\"\n              : \"extraordinario sabor y textura\" }}.\n            ¡Pruébalo y cuéntanos tu opinión!\n          </p>\n        </div>\n        <div class=\"modal-footer-custom\">\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"agregarCarrito(panSeleccionado)\"\n          >\n            Agregar al Carrito\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            @click=\"cerrarModal\"\n          >\n            Cerrar\n          </button>\n        </div>\n      </div>\n    </div>\n    <!-- Fin Modal -->\n  </div>\n</template>\n\n<script>\n// Variable global para el debounce del buscador\nlet timeoutID = null;\n\nexport default {\n  name: \"Tienda\",\n  data() {\n    return {\n      // Búsqueda y filtros\n      busqueda: \"\",\n      categoriaSeleccionada: \"todos\",\n      ordenPrecio: \"asc\",\n\n      // Simulación de carga\n      cargando: false,\n\n      // Paginación\n      paginaActual: 1,\n      itemsPorPagina: 8,\n\n      // Modal de detalles\n      mostrarModal: false,\n      panSeleccionado: null,\n\n      // Datos locales\n      panes: [\n        { id: 1,  nombre: \"Pan francés\",        precio: 1.5, img: \"pan-frances.jpg\",   categoria: \"salado\",  rating: 4 },\n        { id: 2,  nombre: \"Baguette\",           precio: 1.2, img: \"baguette.jpg\",      categoria: \"salado\",  rating: 5 },\n        { id: 3,  nombre: \"Pan integral\",       precio: 1.8, img: \"integral.jpg\",      categoria: \"salado\",  rating: 3 },\n        { id: 4,  nombre: \"Pan de centeno\",     precio: 2.0, img: \"centeno.jpg\",       categoria: \"salado\",  rating: 4 },\n        { id: 5,  nombre: \"Pan de chocolate\",   precio: 2.5, img: \"pan-chocolate.jpg\", categoria: \"dulce\",   rating: 4 },\n        { id: 6,  nombre: \"Pan dulce navideño\", precio: 3.2, img: \"pan-dulce.jpg\",     categoria: \"dulce\",   rating: 5 },\n        { id: 7,  nombre: \"Pan de semillas especial\", precio: 2.2, img: \"pan-semillas.jpg\", categoria: \"especial\", rating: 4 },\n        { id: 8,  nombre: \"Pan brioche\",        precio: 2.0, img: \"pan-brioche.jpg\",   categoria: \"dulce\",   rating: 4 },\n        { id: 9,  nombre: \"Pan focaccia\",       precio: 2.4, img: \"pan-focaccia.jpg\",  categoria: \"salado\",  rating: 3 },\n        { id: 10, nombre: \"Pan de ajo\",         precio: 2.0, img: \"pan-ajo.jpg\",       categoria: \"salado\",  rating: 4 },\n      ],\n      panesFiltrados: [],\n    };\n  },\n  computed: {\n    // Cálculo de páginas totales\n    paginasTotales() {\n      return Math.ceil(this.panesFiltrados.length / this.itemsPorPagina);\n    },\n    // Segmentación de resultados según la página actual\n    panesFiltradosPaginados() {\n      const start = (this.paginaActual - 1) * this.itemsPorPagina;\n      const end = start + this.itemsPorPagina;\n      return this.panesFiltrados.slice(start, end);\n    },\n  },\n  created() {\n    // Simulamos carga de 1 segundo\n    this.cargando = true;\n    setTimeout(() => {\n      this.panesFiltrados = this.panes;\n      this.cargando = false;\n    }, 1000);\n  },\n  methods: {\n    // Debounce para la búsqueda\n    filtrarConRetraso() {\n      clearTimeout(timeoutID);\n      timeoutID = setTimeout(() => {\n        this.filtrarPanes();\n      }, 300);\n    },\n\n    // Filtrado principal\n    filtrarPanes() {\n      // Copiamos el array original\n      let temp = [...this.panes];\n\n      // 1) Filtro por categoría\n      if (this.categoriaSeleccionada !== \"todos\") {\n        temp = temp.filter((pan) => pan.categoria === this.categoriaSeleccionada);\n      }\n\n      // 2) Búsqueda por nombre\n      const busquedaLower = this.busqueda.trim().toLowerCase();\n      if (busquedaLower) {\n        temp = temp.filter((pan) =>\n          pan.nombre.toLowerCase().includes(busquedaLower)\n        );\n      }\n\n      // 3) Orden por precio (estable)\n      temp.sort((a, b) => {\n        if (this.ordenPrecio === \"asc\") {\n          return a.precio - b.precio || a.nombre.localeCompare(b.nombre);\n        } else {\n          return b.precio - a.precio || b.nombre.localeCompare(a.nombre);\n        }\n      });\n\n      this.panesFiltrados = temp;\n      // Regresamos a la página 1\n      this.paginaActual = 1;\n    },\n\n    // Cambiar de página\n    cambiarPagina(num) {\n      if (num > 0 && num <= this.paginasTotales) {\n        this.paginaActual = num;\n      }\n    },\n\n    // Formateo de precio\n    formatearPrecio(precio) {\n      return `${precio.toFixed(2)} €`;\n    },\n\n    // Cargar imágenes locales\n    obtenerImagen(archivo) {\n      return require(`@/assets/${archivo}`);\n    },\n\n    // Clase de badge según categoría\n    badgeClass(categoria) {\n      switch (categoria) {\n        case \"salado\":\n          return \"badge-salado\";\n        case \"dulce\":\n          return \"badge-dulce\";\n        case \"especial\":\n          return \"badge-especial\";\n        default:\n          return \"badge-otros\";\n      }\n    },\n\n    // Resaltar texto si quieres (opcional)\n    resaltarTexto(nombre) {\n      // Si no hay búsqueda, devolvemos normal\n      if (!this.busqueda.trim()) return nombre;\n\n      // Búsqueda en minúsculas\n      const normalName = nombre.toLowerCase();\n      const search = this.busqueda.trim().toLowerCase();\n\n      const index = normalName.indexOf(search);\n      if (index === -1) return nombre;\n\n      // Reemplaza la parte coincidente por <mark>\n      const original = nombre.substring(index, index + search.length);\n      const marcado = `<mark>${original}</mark>`;\n      return (\n        nombre.substring(0, index) +\n        marcado +\n        this.resaltarTexto(nombre.substring(index + search.length))\n      );\n    },\n\n    // Modal\n    verDetalles(pan) {\n      this.panSeleccionado = pan;\n      this.mostrarModal = true;\n    },\n    cerrarModal() {\n      this.mostrarModal = false;\n    },\n    agregarCarrito(pan) {\n      alert(`¡${pan.nombre} agregado al carrito!`);\n      this.cerrarModal();\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* ----------------------------------\n   Import de Animate.css / AOS (opcional)\n------------------------------------- */\n@import \"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css\";\n\n/* ----------------------------------\n   Tipografía y ajustes generales\n------------------------------------- */\n@import url(\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Open+Sans&display=swap\");\n\n* {\n  box-sizing: border-box;\n}\n\n.tienda-title {\n  color: #6b3e26;\n  font-weight: 700;\n  font-family: \"Poppins\", sans-serif;\n  text-transform: uppercase;\n  position: relative;\n  display: inline-block;\n  margin-bottom: 1rem;\n}\n.tienda-title::after {\n  content: \"\";\n  display: block;\n  width: 60%;\n  height: 3px;\n  background-color: #a66f3f;\n  margin: 0.5rem auto 0;\n}\n.tienda-subtitle {\n  font-family: \"Open Sans\", sans-serif;\n  color: #555;\n  margin-bottom: 0;\n}\n\n/* ----------------------------------\n   Cartas de Pan\n------------------------------------- */\n.card-pan {\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n  border-radius: 8px;\n  overflow: hidden;\n  cursor: default;\n}\n.card-pan .card-img-top {\n  object-fit: cover;\n  height: 200px;\n}\n.card-pan:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n}\n\n/* Etiquetas de categoría (Badges) */\n.badge-categoria {\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  padding: 3px 6px;\n  font-size: 0.75rem;\n  color: #fff;\n  border-radius: 4px;\n  text-transform: capitalize;\n}\n.badge-salado {\n  background-color: #6c757d; /* Gris */\n}\n.badge-dulce {\n  background-color: #d63384; /* Rosa */\n}\n.badge-especial {\n  background-color: #6f42c1; /* Morado */\n}\n.badge-otros {\n  background-color: #adb5bd;\n}\n\n/* Etiqueta Descuento */\n.badge-descuento {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  background-color: #dc3545; /* Rojo */\n  color: #fff;\n  font-size: 0.75rem;\n  padding: 3px 6px;\n  border-radius: 4px;\n  text-transform: uppercase;\n}\n\n/* ----------------------------------\n   Filtros\n------------------------------------- */\n.filtros select.form-control,\n.filtros input.form-control {\n  border-radius: 6px;\n}\n.input-group-text {\n  border: none;\n}\n.input-group-text.bg-light {\n  background-color: #fafafa;\n}\n\n/* Paginación */\n.pagination .page-link {\n  color: #6b3e26;\n}\n.pagination .page-item.active .page-link {\n  background-color: #a66f3f;\n  border-color: #a66f3f;\n  color: #fff;\n}\n.pagination .page-link:hover {\n  background-color: #eed8c3;\n}\n\n/* ----------------------------------\n   Spinner\n------------------------------------- */\n.spinner-border {\n  width: 3rem;\n  height: 3rem;\n}\n\n/* ----------------------------------\n   Simulación de Modal sin jQuery\n------------------------------------- */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 999;\n}\n.modal-custom {\n  background-color: #fff;\n  width: 90%;\n  max-width: 550px;\n  margin: 10% auto;\n  border-radius: 8px;\n  overflow: hidden;\n  position: relative;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);\n}\n.modal-header-custom {\n  padding: 1rem;\n  border-bottom: 1px solid #ddd;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.modal-title-custom {\n  margin: 0;\n  font-size: 1.2rem;\n}\n.close-custom {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  line-height: 1;\n  cursor: pointer;\n}\n.modal-body-custom {\n  padding: 1rem;\n}\n.modal-footer-custom {\n  padding: 1rem;\n  border-top: 1px solid #ddd;\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n}\n\n/* Para resaltar coincidencias si deseas <mark> */\nmark {\n  background-color: #fff79a;\n  color: #333;\n  font-weight: 600;\n}\n</style>\n"]}]}