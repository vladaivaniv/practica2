{"remainingRequest":"/Users/satus/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/satus/vue/src/views/Old/Auditiva.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/satus/vue/src/views/Old/Auditiva.vue","mtime":1736082331926},{"path":"/Users/satus/vue/node_modules/cache-loader/dist/cjs.js","mtime":1736076365498},{"path":"/Users/satus/vue/node_modules/babel-loader/lib/index.js","mtime":1736076366266},{"path":"/Users/satus/vue/node_modules/cache-loader/dist/cjs.js","mtime":1736076365498},{"path":"/Users/satus/vue/node_modules/vue-loader/lib/index.js","mtime":1736076366535}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXVkaXRpdmEiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3aGl0ZU5vaXNlUGxheWluZzogZmFsc2UsCiAgICAgIHdoaXRlTm9pc2VDb250ZXh0OiBudWxsLAogICAgICB3aGl0ZU5vaXNlU291cmNlOiBudWxsLAogICAgICBhbGVydENvbnRleHQ6IG51bGwsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcGxheUFsZXJ0KCkgewogICAgICBjb25zdCBhdWRpb0N0eCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpOwogICAgICBjb25zdCBvc2NpbGxhdG9yID0gYXVkaW9DdHguY3JlYXRlT3NjaWxsYXRvcigpOwogICAgICBjb25zdCBnYWluTm9kZSA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTsKCiAgICAgIC8vIENvbmZpZ3VyYSBsJ29zY2lswrdsYWRvciBwZXIgZ2VuZXJhciB1biB0byBkJ2FsZXJ0YQogICAgICBvc2NpbGxhdG9yLnR5cGUgPSAic2luZSI7IC8vIFRpcHVzIGRlIHRvIChzaW5lLCBzcXVhcmUsIHRyaWFuZ2xlLCBzYXd0b290aCkKICAgICAgb3NjaWxsYXRvci5mcmVxdWVuY3kuc2V0VmFsdWVBdFRpbWUoODgwLCBhdWRpb0N0eC5jdXJyZW50VGltZSk7IC8vIEZyZXHDvMOobmNpYSBlbiBIegoKICAgICAgLy8gQ29uZmlndXJhIGVsIGdhaW4gcGVyIGNvbnRyb2xhciBlbCB2b2x1bQogICAgICBnYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKDAuNSwgYXVkaW9DdHguY3VycmVudFRpbWUpOwoKICAgICAgLy8gQ29ubmVjdGEgbCdvc2NpbMK3bGFkb3IgYWwgZ2FpbiBpIGVsIGdhaW4gYSBsYSBzb3J0aWRhCiAgICAgIG9zY2lsbGF0b3IuY29ubmVjdChnYWluTm9kZSk7CiAgICAgIGdhaW5Ob2RlLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwoKICAgICAgLy8gUmVwcm9kdWVpeCBsJ2FsZXJ0YSBkdXJhbnQgMSBzZWdvbgogICAgICBvc2NpbGxhdG9yLnN0YXJ0KCk7CiAgICAgIG9zY2lsbGF0b3Iuc3RvcChhdWRpb0N0eC5jdXJyZW50VGltZSArIDEpOwoKICAgICAgdGhpcy5hbGVydENvbnRleHQgPSBhdWRpb0N0eDsKICAgIH0sCiAgICB0b2dnbGVXaGl0ZU5vaXNlKCkgewogICAgICBpZiAoIXRoaXMud2hpdGVOb2lzZVBsYXlpbmcpIHsKICAgICAgICB0aGlzLnN0YXJ0V2hpdGVOb2lzZSgpOwogICAgICAgIHRoaXMud2hpdGVOb2lzZVBsYXlpbmcgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc3RvcFdoaXRlTm9pc2UoKTsKICAgICAgICB0aGlzLndoaXRlTm9pc2VQbGF5aW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBzdGFydFdoaXRlTm9pc2UoKSB7CiAgICAgIGNvbnN0IGF1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7CiAgICAgIGNvbnN0IGJ1ZmZlclNpemUgPSAyICogYXVkaW9DdHguc2FtcGxlUmF0ZTsgLy8gRHVyYWRhIGRlIDIgc2Vnb25zCiAgICAgIGNvbnN0IG5vaXNlQnVmZmVyID0gYXVkaW9DdHguY3JlYXRlQnVmZmVyKDEsIGJ1ZmZlclNpemUsIGF1ZGlvQ3R4LnNhbXBsZVJhdGUpOwogICAgICBjb25zdCBvdXRwdXQgPSBub2lzZUJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTsKCiAgICAgIC8vIEdlbmVyYSBlbCBzbyBibGFuYwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlclNpemU7IGkrKykgewogICAgICAgIG91dHB1dFtpXSA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTsgLy8gVmFsb3JzIGVudHJlIC0xIGkgMQogICAgICB9CgogICAgICBjb25zdCB3aGl0ZU5vaXNlU291cmNlID0gYXVkaW9DdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICAgIHdoaXRlTm9pc2VTb3VyY2UuYnVmZmVyID0gbm9pc2VCdWZmZXI7CiAgICAgIHdoaXRlTm9pc2VTb3VyY2UubG9vcCA9IHRydWU7CgogICAgICB3aGl0ZU5vaXNlU291cmNlLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICB3aGl0ZU5vaXNlU291cmNlLnN0YXJ0KDApOwoKICAgICAgdGhpcy53aGl0ZU5vaXNlQ29udGV4dCA9IGF1ZGlvQ3R4OwogICAgICB0aGlzLndoaXRlTm9pc2VTb3VyY2UgPSB3aGl0ZU5vaXNlU291cmNlOwogICAgfSwKICAgIHN0b3BXaGl0ZU5vaXNlKCkgewogICAgICBpZiAodGhpcy53aGl0ZU5vaXNlU291cmNlKSB7CiAgICAgICAgdGhpcy53aGl0ZU5vaXNlU291cmNlLnN0b3AoKTsKICAgICAgICB0aGlzLndoaXRlTm9pc2VDb250ZXh0LmNsb3NlKCk7CiAgICAgICAgdGhpcy53aGl0ZU5vaXNlU291cmNlID0gbnVsbDsKICAgICAgICB0aGlzLndoaXRlTm9pc2VDb250ZXh0ID0gbnVsbDsKICAgICAgfQogICAgfSwKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLnN0b3BXaGl0ZU5vaXNlKCk7CiAgICBpZiAodGhpcy5hbGVydENvbnRleHQpIHsKICAgICAgdGhpcy5hbGVydENvbnRleHQuY2xvc2UoKTsKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["Auditiva.vue"],"names":[],"mappings":";AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Auditiva.vue","sourceRoot":"src/views/Old","sourcesContent":["<template>\n  <div class=\"auditiva\" tabindex=\"0\" aria-label=\"Exemple de discapacitat auditiva\">\n    <h1 class=\"sr-only\">Discapacitat Auditiva</h1>\n    <p class=\"sr-only\">\n      Aquesta pàgina simula l'experiència d'una persona amb discapacitat auditiva, utilitzant àudios sense subtítols, alertes sonores i so blanc de fons generats dinàmicament.\n    </p>\n    <div class=\"content-container\">\n      <p class=\"explanation\">\n        Aquesta simulació mostra com una persona amb discapacitat auditiva pot tenir dificultats amb àudios sense subtítols, informació només sonora i distracció pel so blanc.\n      </p>\n      <div class=\"audio-container\">\n        <p class=\"audio-description\">Escolta aquest àudio i intenta comprendre el contingut.</p>\n        <audio controls>\n          <source src=\"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3\" type=\"audio/mpeg\" />\n          El teu navegador no suporta el reproductor d'àudio.\n        </audio>\n      </div>\n      <div class=\"alert-sound\">\n        <p>\n          Aquesta pàgina conté una alerta sonora que pot passar desapercebuda per a una persona amb discapacitat auditiva.\n        </p>\n        <b-button variant=\"warning\" @click=\"playAlert\">\n          Reprodueix alerta sonora\n        </b-button>\n      </div>\n      <div class=\"white-noise\">\n        <p>\n          Activa el so blanc de fons per experimentar una barrera auditiva addicional.\n        </p>\n        <b-button variant=\"danger\" @click=\"toggleWhiteNoise\">\n          {{ whiteNoisePlaying ? 'Desactiva el so blanc' : 'Activa el so blanc' }}\n        </b-button>\n      </div>\n      <b-button variant=\"primary\" href=\"/auditiva2\" class=\"next-button\">\n        Anar al següent exemple de Discapacitat Auditiva\n      </b-button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Auditiva\",\n  data() {\n    return {\n      whiteNoisePlaying: false,\n      whiteNoiseContext: null,\n      whiteNoiseSource: null,\n      alertContext: null,\n    };\n  },\n  methods: {\n    playAlert() {\n      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n      const oscillator = audioCtx.createOscillator();\n      const gainNode = audioCtx.createGain();\n\n      // Configura l'oscil·lador per generar un to d'alerta\n      oscillator.type = \"sine\"; // Tipus de to (sine, square, triangle, sawtooth)\n      oscillator.frequency.setValueAtTime(880, audioCtx.currentTime); // Freqüència en Hz\n\n      // Configura el gain per controlar el volum\n      gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);\n\n      // Connecta l'oscil·lador al gain i el gain a la sortida\n      oscillator.connect(gainNode);\n      gainNode.connect(audioCtx.destination);\n\n      // Reprodueix l'alerta durant 1 segon\n      oscillator.start();\n      oscillator.stop(audioCtx.currentTime + 1);\n\n      this.alertContext = audioCtx;\n    },\n    toggleWhiteNoise() {\n      if (!this.whiteNoisePlaying) {\n        this.startWhiteNoise();\n        this.whiteNoisePlaying = true;\n      } else {\n        this.stopWhiteNoise();\n        this.whiteNoisePlaying = false;\n      }\n    },\n    startWhiteNoise() {\n      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n      const bufferSize = 2 * audioCtx.sampleRate; // Durada de 2 segons\n      const noiseBuffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);\n      const output = noiseBuffer.getChannelData(0);\n\n      // Genera el so blanc\n      for (let i = 0; i < bufferSize; i++) {\n        output[i] = Math.random() * 2 - 1; // Valors entre -1 i 1\n      }\n\n      const whiteNoiseSource = audioCtx.createBufferSource();\n      whiteNoiseSource.buffer = noiseBuffer;\n      whiteNoiseSource.loop = true;\n\n      whiteNoiseSource.connect(audioCtx.destination);\n      whiteNoiseSource.start(0);\n\n      this.whiteNoiseContext = audioCtx;\n      this.whiteNoiseSource = whiteNoiseSource;\n    },\n    stopWhiteNoise() {\n      if (this.whiteNoiseSource) {\n        this.whiteNoiseSource.stop();\n        this.whiteNoiseContext.close();\n        this.whiteNoiseSource = null;\n        this.whiteNoiseContext = null;\n      }\n    },\n  },\n  beforeDestroy() {\n    this.stopWhiteNoise();\n    if (this.alertContext) {\n      this.alertContext.close();\n    }\n  },\n};\n</script>\n\n<style>\n/* Contenidor principal */\n.auditiva {\n  height: 100vh;\n  width: 100vw;\n  background-color: #f5f5f5;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n/* Contenidor central */\n.content-container {\n  text-align: center;\n  color: #333;\n  padding: 20px;\n  border: 2px solid #ccc;\n  border-radius: 10px;\n  background-color: rgba(255, 255, 255, 0.9);\n}\n\n/* Text explicatiu */\n.explanation {\n  font-size: 1.5rem;\n  margin-bottom: 20px;\n  color: #444;\n}\n\n/* Contenidor d'àudio */\n.audio-container {\n  margin: 20px 0;\n}\n\n.audio-description {\n  font-size: 1.2rem;\n  margin-bottom: 10px;\n}\n\n/* Botó següent */\n.next-button {\n  font-size: 1.2rem;\n  margin-top: 20px;\n}\n\n/* Botó d'alerta */\n.alert-sound p {\n  font-size: 1.2rem;\n  margin-bottom: 10px;\n}\n\n.alert-sound b-button {\n  background-color: #ffa500;\n  color: #fff;\n  border: 1px solid #ffa500;\n}\n\n.alert-sound b-button:hover {\n  background-color: #ffb732;\n  border-color: #ffb732;\n}\n\n/* So blanc */\n.white-noise p {\n  font-size: 1.2rem;\n  margin-bottom: 10px;\n}\n\n.white-noise b-button {\n  background-color: #dc3545;\n  color: #fff;\n  border: 1px solid #dc3545;\n}\n\n.white-noise b-button:hover {\n  background-color: #e5535e;\n  border-color: #e5535e;\n}\n</style>\n"]}]}